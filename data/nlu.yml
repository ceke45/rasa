version: "3.1"

nlu:
  # =========================
  # Regex patterns (for robust entity extraction)
  # =========================
  - regex: filter_from
    examples: |
      - [0-9]{4}-[0-9]{2}-[0-9]{2}
  - regex: filter_to
    examples: |
      - [0-9]{4}-[0-9]{2}-[0-9]{2}
  - regex: filter_limit
    examples: |
      - [0-9]{1,4}

  # =========================
  # Small talk / control
  # =========================
  - intent: greet
    examples: |
      - 안녕
      - 안녕하세요
      - ㅎㅇ
      - 하이
      - 좋은 아침입니다
      - 반가워

  - intent: goodbye
    examples: |
      - 잘가
      - 안녕히 계세요
      - 다음에 봐요
      - 바이
      - 좋은 하루 되세요
      - 수고하세요

  - intent: restart
    examples: |
      - /restart
      - 재시작
      - 다시 시작
      - 챗봇 초기화해줘
      - 대화 새로 시작

  # =========================
  # Main Q&A
  # =========================
  - intent: ask_anything
    examples: |
      - 회사 주소 알려줘
      - 우리 사무실 위치가 어디야?
      - 대표님 성함이 뭐야?
      - 회사의 비전은 무엇인가요?
      - 점심시간 언제야?
      - 점심시간
      - 휴가신청 어떻게 해?
      - 복장규정은?
      - IT팀 연락처
      - 우리 회사 이름이 뭐야?
      - 넌 누구니?
      - 파이썬으로 웹사이트 만드는 법 설명해줘
      - 행복이란 무엇일까?
      - 재직증명서
      - 재직증명서 발급 방법
      - 재직증명서 어디서 신청해?
      - 회의실
      - 회의실 예약
      - 게시판
      - 게시판 확인
      - 보안규
      - 원격지원
      - 헬프데스크
      - 자료실
      - 자금팀
      - 경영기획팀
      - 글로벌건강기능식품팀
      - 휴가신청
      - 출장신청
      - 구매신청
      - 복리후생
      - 후생
      - 복리
      - 지금 몇시야?
      - 오늘 날짜가 뭐야?

  # =========================
  # Mode switching
  # =========================
  - intent: set_mode
    examples: |
      - [내부](mode) 모드로 바꿔줘
      - [외부](mode) AI 모드로 바꿔줘
      - [내부](mode) 정보 기반으로 해줘
      - [Gemini](mode) AI 써줘
      - [gemini](mode) 모드로 전환
      - [내부](mode)로 해줘
      - [외부](mode)로 해줘
      - [내부지식](mode) 모드
      - [외부지식](mode) 모드
      - /set_mode{"mode": "internal"}
      - /set_mode{"mode": "gemini"}

  - lookup: mode
    examples: |
      - internal
      - gemini
      - Gemini
      - 내부
      - 외부
      - 내부지식
      - 외부지식

  - synonym: internal
    examples: |
      - 내부
      - 내부모드
      - 내부 모드
      - 내부 지식
      - 내부지식
      - 내부지식 모드
      - 내부 기반

  - synonym: gemini
    examples: |
      - 외부
      - 외부모드
      - 외부 모드
      - 외부 지식
      - 외부지식
      - 외부지식 모드
      - Gemini
      - gemini
      - 제미나이

  # =========================
  # File upload -> summarize
  # =========================
  - intent: file_uploaded
    examples: |
      - 파일 업로드 했어 경로는 [C:\docs\a.pdf](uploaded_file_path) [application/pdf](uploaded_file_mime)
      - /file_uploaded{"uploaded_file_path":"/home/user/a.xlsx","uploaded_file_mime":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}
      - 방금 [D:\work\report.csv](uploaded_file_path) 올렸어 형식은 [text/csv](uploaded_file_mime)
      - 이 파일 정리해줘 경로 [./data/sample.pdf](uploaded_file_path) 타입은 [application/pdf](uploaded_file_mime)

  # =========================
  # History save/show/end
  # =========================
  - intent: save_history
    examples: |
      - 대화 저장해
      - 히스토리 저장해
      - 지금까지 대화 저장
      - 로그 남겨
      - 로그 저장해
      - 지금 로그로 기록해줘

  - intent: show_history
    examples: |
      - 최근 대화 보여줘
      - 방금 대화 뭐였지
      - 로그 확인
      - 대화 내용 확인
      - 대화 히스토리 확인
      - 마지막 대화 10개 보여줘

  - intent: end_conversation
    examples: |
      - 종료
      - 대화 끝
      - 그만
      - 끝내자
      - 채팅 종료
      - 오늘은 여기까지

  # =========================
  # History search & stats (with entities)
  # =========================
  - intent: history_search
    examples: |
      - 대화 검색
      - 로그 찾아줘
      - sender [alice](filter_sender_id) 의 최근 기록
      - sender [bob](filter_sender_id) 의 [2025-08-01](filter_from) ~ [2025-08-14](filter_to) 로그
      - [2025-08-01](filter_from) 부터 [2025-08-12](filter_to) 까지 보여줘
      - 최근 [200](filter_limit)개만
      - limit [50](filter_limit)으로 검색
      - /history_search{"filter_sender_id":"test","filter_from":"2025-08-01","filter_to":"2025-08-14","filter_limit":"100"}
      - 사용자 [user123](filter_sender_id) 로그 보여줘
      - [2025-07-01](filter_from)부터 [2025-07-31](filter_to)까지의 대화 검색

  - intent: history_stats
    examples: |
      - 대화 집계
      - 통계 보여줘
      - sender [alice](filter_sender_id) 통계
      - [2025-08-01](filter_from)~[2025-08-12](filter_to) 요약
      - 최근 [30](filter_limit)개만 집계
      - /history_stats{"filter_sender_id":"test","filter_from":"2025-08-01","filter_to":"2025-08-14"}
      - [2025-07-01](filter_from) 부터 [2025-07-31](filter_to) 까지 통계
