version: "3.1"

rules:

  # ğŸ‘‹ ì¸ì‚¬
  - rule: Greet the user
    steps:
      - intent: greet
      - action: utter_greet

  # ğŸ‘‹ ì‘ë³„
  - rule: Say goodbye anytime the user says goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  # ğŸ”€ ëª¨ë“œ ì „í™˜ (í•„ìˆ˜)
  - rule: Set mode
    steps:
      - intent: set_mode
      - action: action_set_mode

  # ğŸ¤– ëª¨ë“œì— ë”°ë¼ ì§ˆë¬¸ ìë™ ë¶„ê¸°
  - rule: Answer anything by mode
    steps:
      - intent: ask_anything
      - action: action_smart_answer

  # ğŸ“ íŒŒì¼ ì—…ë¡œë“œ ì‹œ ìš”ì•½
  - rule: Summarize when file uploaded
    steps:
      - intent: file_uploaded
      - action: action_summarize_file

  # ğŸ’¾ ëŒ€í™” íˆìŠ¤í† ë¦¬ ìˆ˜ë™ ì €ì¥
  - rule: Save history on request
    steps:
      - intent: save_history
      - action: action_save_history

  # ğŸ” ìµœê·¼ ëŒ€í™” íˆìŠ¤í† ë¦¬ ì¡°íšŒ
  - rule: Show recent history
    steps:
      - intent: show_history
      - action: action_show_recent_history

  # ğŸ›‘ ì‚¬ìš©ìê°€ 'ì¢…ë£Œ' ì˜ì‚¬ í‘œí˜„ ì‹œ ì €ì¥ í›„ ì´ˆê¸°í™”
  - rule: Save history when conversation ends
    steps:
      - intent: end_conversation
      - action: action_save_history
      - action: action_restart

  # ğŸ” íˆìŠ¤í† ë¦¬ ê²€ìƒ‰
  - rule: History search
    steps:
      - intent: history_search
      - action: action_history_search

  # ğŸ“Š íˆìŠ¤í† ë¦¬ ì§‘ê³„
  - rule: History stats
    steps:
      - intent: history_stats
      - action: action_history_stats

  # ğŸ›Ÿ NLU Fallback (ì„ê³„ì¹˜ ì´í•˜ì¼ ë•Œ) - utter_defaultê°€ ì—†ë‹¤ë©´ utter_greetë¡œ ëŒ€ì²´
  - rule: Fallback
    steps:
      - intent: nlu_fallback
      - action: utter_greet

  # ğŸ” ìˆ˜ë™ ì¬ì‹œì‘ (ì„ íƒ)
  - rule: Manual restart
    steps:
      - intent: restart
      - action: action_restart
